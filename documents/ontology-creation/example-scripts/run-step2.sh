# populate
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1997 --populate -n 15941 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1998 --populate -n 15878 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1999 --populate -n 17412 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2000 --populate -n 19533 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2001 --populate -n 36832 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2002 --populate -n 38482 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2003 --populate -n 42439 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2004 --populate -n 43903 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2005 --populate -n 44493 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2006 --populate -n 43412 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2007 --populate -n 40715 --verbose &

# xml2txt
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1997 --xml2txt -n 15941 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1998 --xml2txt -n 15878 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1999 --xml2txt -n 17412 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2000 --xml2txt -n 19533 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2001 --xml2txt -n 36832 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2002 --xml2txt -n 38482 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2003 --xml2txt -n 42439 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2004 --xml2txt -n 43903 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2005 --xml2txt -n 44493 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2006 --xml2txt -n 43412 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2007 --xml2txt -n 40715 --verbose &

# txt2tag
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1997 --txt2tag -n 15941 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1998 --txt2tag -n 15878 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1999 --txt2tag -n 17412 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2000 --txt2tag -n 19533 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2001 --txt2tag -n 36832 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2002 --txt2tag -n 38482 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2003 --txt2tag -n 42439 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2004 --txt2tag -n 43903 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2005 --txt2tag -n 44493 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2006 --txt2tag -n 43412 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2007 --txt2tag -n 40715 --verbose &

# tag2chk
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1997 --tag2chk -n 15941 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1998 --tag2chk -n 15878 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1999 --tag2chk -n 17412 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2000 --tag2chk -n 19533 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2001 --tag2chk -n 36832 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2002 --tag2chk -n 38482 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2003 --tag2chk -n 42439 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2004 --tag2chk -n 43903 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2005 --tag2chk -n 44493 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2006 --tag2chk -n 43412 --verbose &
# python step2_document_processing.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2007 --tag2chk -n 40715 --verbose &

# MATCHER

# python run_matcher.py --corpus ../creation/data/patents/201309-en --filelist files.txt --patterns MATURITY --batch maturity --verbose &

# on all files
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1997 --filelist files.txt --patterns MATURITY --batch maturity --verbose &
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1998 --filelist files.txt --patterns MATURITY --batch maturity --verbose &
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1999 --filelist files.txt --patterns MATURITY --batch maturity --verbose &
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2000 --filelist files.txt --patterns MATURITY --batch maturity --verbose &
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2001 --filelist files.txt --patterns MATURITY --batch maturity --verbose &
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2002 --filelist files.txt --patterns MATURITY --batch maturity --verbose &
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2003 --filelist files.txt --patterns MATURITY --batch maturity --verbose &
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2004 --filelist files.txt --patterns MATURITY --batch maturity --verbose &
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2005 --filelist files.txt --patterns MATURITY --batch maturity --verbose &
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2006 --filelist files.txt --patterns MATURITY --batch maturity --verbose &
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2007 --filelist files.txt --patterns MATURITY --batch maturity --verbose &

# on all files with pub years for 2007 and before, using files-2007.txt as the filelist
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1997 --filelist files-2007.txt --patterns MATURITY --batch maturity-2007 --verbose &
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1998 --filelist files-2007.txt --patterns MATURITY --batch maturity-2007 --verbose &
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1999 --filelist files-2007.txt --patterns MATURITY --batch maturity-2007 --verbose &
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2000 --filelist files-2007.txt --patterns MATURITY --batch maturity-2007 --verbose &
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2001 --filelist files-2007.txt --patterns MATURITY --batch maturity-2007 --verbose &
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2002 --filelist files-2007.txt --patterns MATURITY --batch maturity-2007 --verbose &
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2003 --filelist files-2007.txt --patterns MATURITY --batch maturity-2007 --verbose &
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2004 --filelist files-2007.txt --patterns MATURITY --batch maturity-2007 --verbose &
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2005 --filelist files-2007.txt --patterns MATURITY --batch maturity-2007 --verbose &
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2006 --filelist files-2007.txt --patterns MATURITY --batch maturity-2007 --verbose &
# python run_matcher.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2007 --filelist files-2007.txt --patterns MATURITY --batch maturity-2007 --verbose &


# CREATE MALLET FILE

# using all files in the corpus

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1997 --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/1997 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1998 --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/1998 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1999 --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/1999 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2000 --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/2000 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2001 --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/2001 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2002 --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/2002 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2003 --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/2003 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2004 --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/2004 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2005 --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/2005 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2006 --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/2006 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2007 --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/2007 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &

# use files-2007.txt as the file list

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1997 --filelist files-2007.txt --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/1997 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1998 --filelist files-2007.txt --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/1998 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1999 --filelist files-2007.txt --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/1999 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2000 --filelist files-2007.txt --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/2000 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2001 --filelist files-2007.txt --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/2001 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2002 --filelist files-2007.txt --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/2002 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2003 --filelist files-2007.txt --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/2003 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2004 --filelist files-2007.txt --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/2004 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2005 --filelist files-2007.txt --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/2005 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2006 --filelist files-2007.txt --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/2006 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &

python create_mallet_file.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2007 --filelist files-2007.txt --model-dir /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/2007 --annotation-file ../annotation/en/technology/phr_occ.lab --verbose &


# DOWNSAMPLING

# here for the 2007 files, replace pubyears-2007 with pubyears-all to run on mallet files created from all files
python downsample.py --source-mallet-file /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/1997/train.mallet --threshold 200 --verbose &
python downsample.py --source-mallet-file /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/1998/train.mallet --threshold 200 --verbose &
python downsample.py --source-mallet-file /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/1999/train.mallet --threshold 200 --verbose &
python downsample.py --source-mallet-file /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/2000/train.mallet --threshold 200 --verbose &
python downsample.py --source-mallet-file /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/2001/train.mallet --threshold 200 --verbose &
python downsample.py --source-mallet-file /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/2002/train.mallet --threshold 200 --verbose &
python downsample.py --source-mallet-file /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/2003/train.mallet --threshold 200 --verbose &
python downsample.py --source-mallet-file /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/2004/train.mallet --threshold 200 --verbose &
python downsample.py --source-mallet-file /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/2005/train.mallet --threshold 200 --verbose &
python downsample.py --source-mallet-file /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/2006/train.mallet --threshold 200 --verbose &
python downsample.py --source-mallet-file /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/2007/train.mallet --threshold 200 --verbose &


# MERGING

python merge_mallet_files.py /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-07 '/home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/[0-9]*/train.ds0200.mallet' &
python merge_mallet_files.py /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-99 '/home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/19[0-9]*/train.ds0200.mallet' &
python merge_mallet_files.py /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-98 '/home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/1997/train.ds0200.mallet' '/home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/1998/train.ds0200.mallet'                                                            

python merge_mallet_files.py /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/merged-97-07 '/home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/[0-9]*/train.ds0200.mallet' &


# DOWNSAMPLING THE MERGED FILE

python downsample.py --source-mallet-file /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/merged-97-07/train.mallet --threshold 1000 --verbose &


# FEATURE SELECTION

python select_features.py --source-mallet-file /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-07/train.ds1000.mallet --features all --verbose &
python select_features.py --source-mallet-file /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-07/train.ds1000.mallet --features standard --verbose &
python select_features.py --source-mallet-file /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-07/train.ds1000.mallet --features standard_nolex --verbose &

python select_features.py --source-mallet-file /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/merged-97-07/train.ds1000.mallet --features all --verbose &


# CREATING THE MODEL

# these all take about 30 minutes
# use 8GB as the memory setting in bin/mallet
python create_model.py --mallet-file /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-07/train.ds1000.all.mallet --verbose &
python create_model.py --mallet-file /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-07/train.ds1000.standard.mallet --verbose &
python create_model.py --mallet-file /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-07/train.ds1000.standard_nolex.mallet --verbose &

python create_model.py --mallet-file /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/merged-97-07/train.ds1000.all.mallet --verbose &


# TESTING THE MODEL

# use 2GB as the memory setting in bin/mallet

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/201401-en-500 --filelist /home/j/corpuswork/fuse/FUSEData/corpora/201401-en-500/config/files-testing.txt --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-07/train.ds1000.all.model --batch data/classifications/eval-320k-all --gold-standard ../annotation/en/technology/phr_occ.eval.lab --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/201401-en-500 --filelist /home/j/corpuswork/fuse/FUSEData/corpora/201401-en-500/config/files-testing.txt --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-07/train.ds1000.standard.model --batch data/classifications/eval-320k-standard --gold-standard ../annotation/en/technology/phr_occ.eval.lab --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/201401-en-500 --filelist /home/j/corpuswork/fuse/FUSEData/corpora/201401-en-500/config/files-testing.txt --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-07/train.ds1000.standard_nolex.model --batch data/classifications/eval-320k-standard_nolex --gold-standard ../annotation/en/technology/phr_occ.eval.lab --verbose &


# RUNNING THE CLASSIFIER

# use 2GB as the memory setting in bin/mallet

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1997 --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/technologies-ds1000-all-1997 --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1998 --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/technologies-ds1000-all-1998 --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1999 --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/technologies-ds1000-all-1999 --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2000 --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/technologies-ds1000-all-2000 --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2001 --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/technologies-ds1000-all-2001 --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2002 --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/technologies-ds1000-all-2002 --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2003 --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/technologies-ds1000-all-2003 --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2004 --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/technologies-ds1000-all-2004 --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2005 --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/technologies-ds1000-all-2005 --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2006 --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/technologies-ds1000-all-2006 --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2007 --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/technologies-ds1000-all-2007 --verbose &

# same, but for the 2007 set

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1997 --filelist files-2007.txt --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/phase2-eval/technologies-ds1000-all-1997 --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1998 --filelist files-2007.txt --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/phase2-eval/technologies-ds1000-all-1998 --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1999 --filelist files-2007.txt --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/phase2-eval/technologies-ds1000-all-1999 --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2000 --filelist files-2007.txt --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/phase2-eval/technologies-ds1000-all-2000 --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2001 --filelist files-2007.txt --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/phase2-eval/technologies-ds1000-all-2001 --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2002 --filelist files-2007.txt --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/phase2-eval/technologies-ds1000-all-2002 --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2003 --filelist files-2007.txt --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/phase2-eval/technologies-ds1000-all-2003 --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2004 --filelist files-2007.txt --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/phase2-eval/technologies-ds1000-all-2004 --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2005 --filelist files-2007.txt --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/phase2-eval/technologies-ds1000-all-2005 --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2006 --filelist files-2007.txt --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/phase2-eval/technologies-ds1000-all-2006 --verbose &

python run_tclassify.py --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2007 --filelist files-2007.txt --model /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/models/technologies/pubyears-2007/merged-97-07/train.ds1000.all.model --batch /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/classifications/phase2-eval/technologies-ds1000-all-2007 --verbose &


# INVENTIONS

# creating the inventions model
python run_iclassify.py --train --verbose --corpus ../creation/data/patents/201401-invention-annotation --model data/models/inventions-standard-20140106

# running the inventions model
python run_iclassify.py --classify --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1997 --model data/models/inventions-standard-20130713 --batch data/classifications/inventions-1997 --verbose &
python run_iclassify.py --classify --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1998 --model data/models/inventions-standard-20130713 --batch data/classifications/inventions-1998 --verbose &
python run_iclassify.py --classify --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/1999 --model data/models/inventions-standard-20130713 --batch data/classifications/inventions-1999 --verbose &
python run_iclassify.py --classify --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2000 --model data/models/inventions-standard-20130713 --batch data/classifications/inventions-2000 --verbose &
python run_iclassify.py --classify --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2001 --model data/models/inventions-standard-20130713 --batch data/classifications/inventions-2001 --verbose &
python run_iclassify.py --classify --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2002 --model data/models/inventions-standard-20130713 --batch data/classifications/inventions-2002 --verbose &
python run_iclassify.py --classify --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2003 --model data/models/inventions-standard-20130713 --batch data/classifications/inventions-2003 --verbose &
python run_iclassify.py --classify --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2004 --model data/models/inventions-standard-20130713 --batch data/classifications/inventions-2004 --verbose &
python run_iclassify.py --classify --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2005 --model data/models/inventions-standard-20130713 --batch data/classifications/inventions-2005 --verbose &
python run_iclassify.py --classify --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2006 --model data/models/inventions-standard-20130713 --batch data/classifications/inventions-2006 --verbose &
python run_iclassify.py --classify --corpus /home/j/corpuswork/fuse/FUSEData/corpora/ln-us-all-600k/subcorpora/2007 --model data/models/inventions-standard-20130713 --batch data/classifications/inventions-2007 --verbose &


# TECHNOLOGY SCORE TIME SERIES

# run these from the ln-us-all-600k/time-series/technology-scores directory
cut -f1,2 ../../classifications/technologies-ds1000-all-1997/classify.MaxEnt.out.s3.scores.sum > 1997.tab
cut -f1,2 ../../classifications/technologies-ds1000-all-1998/classify.MaxEnt.out.s3.scores.sum > 1998.tab
cut -f1,2 ../../classifications/technologies-ds1000-all-1999/classify.MaxEnt.out.s3.scores.sum > 1999.tab
cut -f1,2 ../../classifications/technologies-ds1000-all-2000/classify.MaxEnt.out.s3.scores.sum > 2000.tab
cut -f1,2 ../../classifications/technologies-ds1000-all-2001/classify.MaxEnt.out.s3.scores.sum > 2001.tab
cut -f1,2 ../../classifications/technologies-ds1000-all-2002/classify.MaxEnt.out.s3.scores.sum > 2002.tab
cut -f1,2 ../../classifications/technologies-ds1000-all-2003/classify.MaxEnt.out.s3.scores.sum > 2003.tab
cut -f1,2 ../../classifications/technologies-ds1000-all-2004/classify.MaxEnt.out.s3.scores.sum > 2004.tab
cut -f1,2 ../../classifications/technologies-ds1000-all-2005/classify.MaxEnt.out.s3.scores.sum > 2005.tab
cut -f1,2 ../../classifications/technologies-ds1000-all-2006/classify.MaxEnt.out.s3.scores.sum > 2006.tab
cut -f1,2 ../../classifications/technologies-ds1000-all-2007/classify.MaxEnt.out.s3.scores.sum > 2007.tab



